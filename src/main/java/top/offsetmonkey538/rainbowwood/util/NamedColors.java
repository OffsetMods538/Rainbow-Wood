package top.offsetmonkey538.rainbowwood.util;

import org.jetbrains.annotations.NotNull;

public final class NamedColors {



    // TODO: remove, probably not gonna add (HTML named colors)
            // Red
    //IndianRed            (0xCD5C5C, "IndianRed           "),
    //LightCoral           (0xF08080, "LightCoral          "),
    //Salmon               (0xFA8072, "Salmon              "),
    //DarkSalmon           (0xE9967A, "DarkSalmon          "),
    //LightSalmon          (0xFFA07A, "LightSalmon         "),
    //Crimson              (0xDC143C, "Crimson             "),
    //Red                  (0xFF0000, "Red                 "),
    //FireBrick            (0xB22222, "FireBrick           "),
    //DarkRed              (0x8B0000, "DarkRed             "),
    //Pink                 (0xFFC0CB, "Pink                "),
    //LightPink            (0xFFB6C1, "LightPink           "),
    //HotPink              (0xFF69B4, "HotPink             "),
    //DeepPink             (0xFF1493, "DeepPink            "),
    //MediumVioletRed      (0xC71585, "MediumVioletRed     "),
    //PaleVioletRed        (0xDB7093, "PaleVioletRed       "),
    //Coral                (0xFF7F50, "Coral               "),
    //Tomato               (0xFF6347, "Tomato              "),
    //OrangeRed            (0xFF4500, "OrangeRed           "),
    //DarkOrange           (0xFF8C00, "DarkOrange          "),
    //Orange               (0xFFA500, "Orange              "),
    //Gold                 (0xFFD700, "Gold                "),
    //Yellow               (0xFFFF00, "Yellow              "),
    //LightYellow          (0xFFFFE0, "LightYellow         "),
    //LemonChiffon         (0xFFFACD, "LemonChiffon        "),
    //LightGoldenrodYellow (0xFAFAD2, "LightGoldenrodYellow"),
    //PapayaWhip           (0xFFEFD5, "PapayaWhip          "),
    //Moccasin             (0xFFE4B5, "Moccasin            "),
    //PeachPuff            (0xFFDAB9, "PeachPuff           "),
    //PaleGoldenrod        (0xEEE8AA, "PaleGoldenrod       "),
    //Khaki                (0xF0E68C, "Khaki               "),
    //DarkKhaki            (0xBDB76B, "DarkKhaki           "),
    //Lavender             (0xE6E6FA, "Lavender            "),
    //Thistle              (0xD8BFD8, "Thistle             "),
    //Plum                 (0xDDA0DD, "Plum                "),
    //Violet               (0xEE82EE, "Violet              "),
    //Orchid               (0xDA70D6, "Orchid              "),
    //Fuchsia              (0xFF00FF, "Fuchsia             "),
    //Magenta              (0xFF00FF, "Magenta             "),
    //MediumOrchid         (0xBA55D3, "MediumOrchid        "),
    //MediumPurple         (0x9370DB, "MediumPurple        "),
    //RebeccaPurple        (0x663399, "RebeccaPurple       "),
    //BlueViolet           (0x8A2BE2, "BlueViolet          "),
    //DarkViolet           (0x9400D3, "DarkViolet          "),
    //DarkOrchid           (0x9932CC, "DarkOrchid          "),
    //DarkMagenta          (0x8B008B, "DarkMagenta         "),
    //Purple               (0x800080, "Purple              "),
    //Indigo               (0x4B0082, "Indigo              "),
    //SlateBlue            (0x6A5ACD, "SlateBlue           "),
    //DarkSlateBlue        (0x483D8B, "DarkSlateBlue       "),
    //MediumSlateBlue      (0x7B68EE, "MediumSlateBlue     "),
    //GreenYellow          (0xADFF2F, "GreenYellow         "),
    //Chartreuse           (0x7FFF00, "Chartreuse          "),
    //LawnGreen            (0x7CFC00, "LawnGreen           "),
    //Lime                 (0x00FF00, "Lime                "),
    //LimeGreen            (0x32CD32, "LimeGreen           "),
    //PaleGreen            (0x98FB98, "PaleGreen           "),
    //LightGreen           (0x90EE90, "LightGreen          "),
    //MediumSpringGreen    (0x00FA9A, "MediumSpringGreen   "),
    //SpringGreen          (0x00FF7F, "SpringGreen         "),
    //MediumSeaGreen       (0x3CB371, "MediumSeaGreen      "),
    //SeaGreen             (0x2E8B57, "SeaGreen            "),
    //ForestGreen          (0x228B22, "ForestGreen         "),
    //Green                (0x008000, "Green               "),
    //DarkGreen            (0x006400, "DarkGreen           "),
    //YellowGreen          (0x9ACD32, "YellowGreen         "),
    //OliveDrab            (0x6B8E23, "OliveDrab           "),
    //Olive                (0x808000, "Olive               "),
    //DarkOliveGreen       (0x556B2F, "DarkOliveGreen      "),
    //MediumAquamarine     (0x66CDAA, "MediumAquamarine    "),
    //DarkSeaGreen         (0x8FBC8B, "DarkSeaGreen        "),
    //LightSeaGreen        (0x20B2AA, "LightSeaGreen       "),
    //DarkCyan             (0x008B8B, "DarkCyan            "),
    //Teal                 (0x008080, "Teal                "),
    //Aqua                 (0x00FFFF, "Aqua                "),
    //Cyan                 (0x00FFFF, "Cyan                "),
    //LightCyan            (0xE0FFFF, "LightCyan           "),
    //PaleTurquoise        (0xAFEEEE, "PaleTurquoise       "),
    //Aquamarine           (0x7FFFD4, "Aquamarine          "),
    //Turquoise            (0x40E0D0, "Turquoise           "),
    //MediumTurquoise      (0x48D1CC, "MediumTurquoise     "),
    //DarkTurquoise        (0x00CED1, "DarkTurquoise       "),
    //CadetBlue            (0x5F9EA0, "CadetBlue           "),
    //SteelBlue            (0x4682B4, "SteelBlue           "),
    //LightSteelBlue       (0xB0C4DE, "LightSteelBlue      "),
    //PowderBlue           (0xB0E0E6, "PowderBlue          "),
    //LightBlue            (0xADD8E6, "LightBlue           "),
    //SkyBlue              (0x87CEEB, "SkyBlue             "),
    //LightSkyBlue         (0x87CEFA, "LightSkyBlue        "),
    //DeepSkyBlue          (0x00BFFF, "DeepSkyBlue         "),
    //DodgerBlue           (0x1E90FF, "DodgerBlue          "),
    //CornflowerBlue       (0x6495ED, "CornflowerBlue      "),
    //RoyalBlue            (0x4169E1, "RoyalBlue           "),
    //Blue                 (0x0000FF, "Blue                "),
    //MediumBlue           (0x0000CD, "MediumBlue          "),
    //DarkBlue             (0x00008B, "DarkBlue            "),
    //Navy                 (0x000080, "Navy                "),
    //MidnightBlue         (0x191970, "MidnightBlue        "),
    //Cornsilk             (0xFFF8DC, "Cornsilk            "),
    //BlanchedAlmond       (0xFFEBCD, "BlanchedAlmond      "),
    //Bisque               (0xFFE4C4, "Bisque              "),
    //NavajoWhite          (0xFFDEAD, "NavajoWhite         "),
    //Wheat                (0xF5DEB3, "Wheat               "),
    //BurlyWood            (0xDEB887, "BurlyWood           "),
    //Tan                  (0xD2B48C, "Tan                 "),
    //RosyBrown            (0xBC8F8F, "RosyBrown           "),
    //SandyBrown           (0xF4A460, "SandyBrown          "),
    //Goldenrod            (0xDAA520, "Goldenrod           "),
    //DarkGoldenrod        (0xB8860B, "DarkGoldenrod       "),
    //Peru                 (0xCD853F, "Peru                "),
    //Chocolate            (0xD2691E, "Chocolate           "),
    //SaddleBrown          (0x8B4513, "SaddleBrown         "),
    //Sienna               (0xA0522D, "Sienna              "),
    //Brown                (0xA52A2A, "Brown               "),
    //Maroon               (0x800000, "Maroon              "),
    //White                (0xFFFFFF, "White               "),
    //Snow                 (0xFFFAFA, "Snow                "),
    //HoneyDew             (0xF0FFF0, "HoneyDew            "),
    //MintCream            (0xF5FFFA, "MintCream           "),
    //Azure                (0xF0FFFF, "Azure               "),
    //AliceBlue            (0xF0F8FF, "AliceBlue           "),
    //GhostWhite           (0xF8F8FF, "GhostWhite          "),
    //WhiteSmoke           (0xF5F5F5, "WhiteSmoke          "),
    //SeaShell             (0xFFF5EE, "SeaShell            "),
    //Beige                (0xF5F5DC, "Beige               "),
    //OldLace              (0xFDF5E6, "OldLace             "),
    //FloralWhite          (0xFFFAF0, "Floral White         "),
    //Ivory                (0xFFFFF0, "Ivory               "),
    //AntiqueWhite         (0xFAEBD7, "Antique White        "),
    //Linen                (0xFAF0E6, "Linen               "),
    //LavenderBlush        (0xFFF0F5, "Lavender Blush       "),
    //MistyRose            (0xFFE4E1, "Misty Rose           "),
    //Gainsboro            (0xDCDCDC, "Gainsboro           "),
    //LightGray            (0xD3D3D3, "Light Gray           "),
    //Silver               (0xC0C0C0, "Silver              "),
    //DarkGray             (0xA9A9A9, "Dark Gray            "),
    //Gray                 (0x808080, "Gray                "),
    //DimGray              (0x696969, "Dim Gray             "),
    //LightSlateGray       (0x778899, "Light Slate Gray      "),
    //SlateGray            (0x708090, "Slate Gray           "),
    //DarkSlateGray        (0x2F4F4F, "Dark Slate Gray       "),
    //Black                (0x000000, "Black               ");

    //INDIAN_RED  (0xCD5C5C, "Indian Red"),
    //LIGHT_CORAL (0xF08080, "Light Coral"),
    //SALMON      (0xFA8072, "Salmon"),
    //DARK_SALMON (0xE9967A, "Dark Salmon"),
    //LIGHT_SALMON(0xFFA07A, "Light Salmon"),
    //CRIMSON     (0xDC143C, "Crimson"),
    //RED         (0xFF0000, "Red"),

    //DYE_COLOR(DyeColor.RED.getSignColor() /* translate to hex and use that */, )
    //;
    //e(1, "u");

    public static final String NAMED_COLOR_TRANSLATION_KEY_TEMPLATE = "general.rainbow_wood.named_color.%s";
    private static final NamedColors[] colors = new NamedColors[] {
            new NamedColors(0xFFFFFF, "White Dye"),
            new NamedColors(0xFF681F, "Orange Dye"),
            new NamedColors(0xFF00FF, "Magenta Dye"),
            new NamedColors(0x9AC0CD, "Light Blue Dye"),
            new NamedColors(0xFFFF00, "Yellow Dye"),
            new NamedColors(0xBFFF00, "Lime Dye"),
            new NamedColors(0xFF69B4, "Pink Dye"),
            new NamedColors(0x808080, "Gray Dye"),
            new NamedColors(0xD3D3D3, "Light Gray Dye"),
            new NamedColors(0x00FFFF, "Cyan Dye"),
            new NamedColors(0xA020F0, "Purple Dye"),
            new NamedColors(0x0000FF, "Blue Dye"),
            new NamedColors(0x8B4513, "Brown Dye"),
            new NamedColors(0x00FF00, "Green Dye"),
            new NamedColors(0xFF0000, "Red Dye"),
            new NamedColors(0x000000, "Black Dye")
    };

    public final int color;
    public final @NotNull String name;
    public final @NotNull String translation;

    private NamedColors(int color, @NotNull String name) {
        if (name.isEmpty()) throw new IllegalArgumentException("Name for named color may not be empty!");

        this.color = color;
        this.translation = NAMED_COLOR_TRANSLATION_KEY_TEMPLATE.formatted(color);
        this.name = name;
    }

    public static NamedColors getClosestNamedColor(final int color) {
        // TODO: add check for when colors are equal to save calculating the distance.
        //  Good for testing right now as otherwise everything would've looked correct, even tho it thought everything was pink :concern:
        // TODO: could they be sorted in the array in a way where I could return early?
        //  If similar colors were next to each-other, could I maybe return once the distance starts getting longer again?

        double closestDistance = Double.MAX_VALUE;
        NamedColors closestColor = null;

        for (NamedColors namedColor : colors) {
            final double distanceTo = namedColor.distanceTo(color);
            if (closestDistance < distanceTo) continue;

            closestDistance = distanceTo;
            closestColor = namedColor;
        }

        return closestColor;
    }

    public static NamedColors[] getAllColors() {
        return colors;
    }

    private double distanceTo(int rgb) {
        // TODO: some stuff can probably be like bytes and shorts and stuff

        final int red = (rgb >> 16) & 0xFF;
        final int green = (rgb >> 8) & 0xFF;
        final int blue = rgb & 0xFF;

        final int thisRed = (color >> 16) & 0xFF;
        final int thisGreen = (color >> 8) & 0xFF;
        final int thisBlue = color & 0xFF;

        final int deltaRedRoot   = (red   - thisRed) * (red   - thisRed);
        final int deltagreenRoot = (green - thisGreen) * (green - thisGreen);
        final int deltablueRoot  = (blue  - thisBlue) * (blue  - thisBlue);

        final float redWithWeirdLineOnTop = 0.5f * (red + thisRed);

        final double redmeanDistance;

        redmeanDistance = Math.sqrt((2 + (redWithWeirdLineOnTop / 256)) * deltaRedRoot + 4*deltagreenRoot + (2 + ((255 - redWithWeirdLineOnTop) / 256)) * deltablueRoot);

        return redmeanDistance;
    }
}
